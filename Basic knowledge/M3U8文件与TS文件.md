https://...️️/live.m3u8， 类似于这类地址。

##### HLS（HTTP Live Streaming）

HLS技术是苹果公司提出的：

> 使用Apple的HTTP实时流媒体（HLS）技术， 将实时和点播的音频和视频发送到IPhone，Mac……等。使用与web相同的协议，HLS允许使用普通的web服务器和内容交付网络部署应用。HLS旨在提高可靠性， 并通过针对可用的有线和无线连接速度优化回收来动态适应网络条件。

`HLS`将音频和视频作为一系列小文件发送，通常持续时间约为6秒，称为媒体段文件。 索引文件或播放列表提供媒体段文件的URL的有序列表。 `HLS`的索引文件保存为`M3U8`播放列表，这是用于MP3播放列表的`M3U`格式的扩展名。 客户端访问索引文件的URL，然后客户端按顺序请求索引文件。

简而言之， `.m3u8`格式的文件是`HLS`技术下的产物，它是`HLS`的索引文件。如果看到后端童鞋传给我们的视频流链接后缀是`.m3u8`，基本就可以断定直播流采用的是`HLS`技术。

##### m3u8文件

![img](https://user-gold-cdn.xitu.io/2019/4/28/16a632faae9e1d52?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

它实际上就是一个普通的文本文件。

- `#EXT-X-MEDIA-SEQUENCE`：每一个媒体文件在 PlayList中的唯一序列号，相邻之间序号加一。上图中是序号 303。
- `#EXT-X-TARGETDURATION`：每一份媒体文件的时间, 以秒为单位。 上图中是2s。
- `#EXTINF`：格式 `#EXTINF <duration>,<title>`。`duration`：每一份 媒体文件持续时间；`title`：每一个媒体文件url地址。上图中`seghik303.ts`就是后缀为`.ts`视频切片文件的地址，这里看上去应该是相对路径。

这里其实就可以清楚的看到M3U8文件其实就是一个播放列表之类的东西，而这个播放列表要播放的实际上是ts文件。这就很好的理解了上次山东联通文件只请求M3U8, 却没有ts请求的情况。



参考链接：

https://juejin.im/post/5cc5555af265da03b8585921